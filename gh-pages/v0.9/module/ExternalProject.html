
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ExternalProject &#8212; YCM 0.9.1 Documentation</title>
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/ycm.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../static/documentation_options.js"></script>
    <script src="../static/jquery.js"></script>
    <script src="../static/underscore.js"></script>
    <script src="../static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CMakeParseArguments" href="CMakeParseArguments.html" />
    <link rel="prev" title="BuildYARP" href="BuildYARP.html" /> 
    <script type="text/javascript" src="../../version_switch.js"></script>
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="CMakeParseArguments.html" title="CMakeParseArguments"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="BuildYARP.html" title="BuildYARP"
             accesskey="P">previous</a> |</li>
  <li>
    <img src="../static/ycm-logo-16.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="https://github.com/robotology/ycm/">YCM</a> &#187;
  </li>
  <li>
    <span class="version_switch">0.9.1</span>
    <a href="../index.html">Documentation</a> &#187;
  </li>

          <li class="nav-item nav-item-1"><a href="../manual/ycm-modules.7.html" accesskey="U">ycm-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ExternalProject</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="externalproject">
<span id="ExternalProject"></span><h1>ExternalProject<a class="headerlink" href="#externalproject" title="Permalink to this headline">Â¶</a></h1>
<p>Create custom targets to build projects in external trees</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add</span></code> function creates a custom target to drive
download, update/patch, configure, build, install and test steps of an
external project:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ExternalProject_Add</span><span class="p">(</span><span class="s">&lt;name&gt;</span>    <span class="c"># Name for custom target</span>
  <span class="s">[DEPENDS</span> <span class="s">projects...]</span>       <span class="c"># Targets on which the project depends</span>
  <span class="s">[PREFIX</span> <span class="s">dir]</span>                <span class="c"># Root dir for entire project</span>
  <span class="s">[LIST_SEPARATOR</span> <span class="s">sep]</span>        <span class="c"># Sep to be replaced by ; in cmd lines</span>
  <span class="s">[TMP_DIR</span> <span class="s">dir]</span>               <span class="c"># Directory to store temporary files</span>
  <span class="s">[STAMP_DIR</span> <span class="s">dir]</span>             <span class="c"># Directory to store step timestamps</span>
  <span class="s">[EXCLUDE_FROM_ALL</span> <span class="s">1]</span>        <span class="c"># The &quot;all&quot; target does not depend on this</span>
 <span class="c">#--Download step--------------</span>
  <span class="s">[DOWNLOAD_NAME</span> <span class="s">fname]</span>       <span class="c"># File name to store (if not end of URL)</span>
  <span class="s">[DOWNLOAD_DIR</span> <span class="s">dir]</span>          <span class="c"># Directory to store downloaded files</span>
  <span class="s">[DOWNLOAD_COMMAND</span> <span class="s">cmd...]</span>   <span class="c"># Command to download source tree</span>
  <span class="s">[DOWNLOAD_NO_PROGRESS</span> <span class="s">1]</span>    <span class="c"># Disable download progress reports</span>
  <span class="s">[CVS_REPOSITORY</span> <span class="s">cvsroot]</span>    <span class="c"># CVSROOT of CVS repository</span>
  <span class="s">[CVS_MODULE</span> <span class="s">mod]</span>            <span class="c"># Module to checkout from CVS repo</span>
  <span class="s">[CVS_TAG</span> <span class="s">tag]</span>               <span class="c"># Tag to checkout from CVS repo</span>
  <span class="s">[SVN_REPOSITORY</span> <span class="s">url]</span>        <span class="c"># URL of Subversion repo</span>
  <span class="s">[SVN_REVISION</span> <span class="s">rev]</span>          <span class="c"># Revision to checkout from Subversion repo</span>
  <span class="s">[SVN_USERNAME</span> <span class="s">john</span> <span class="s">]</span>        <span class="c"># Username for Subversion checkout and update</span>
  <span class="s">[SVN_PASSWORD</span> <span class="s">doe</span> <span class="s">]</span>         <span class="c"># Password for Subversion checkout and update</span>
  <span class="s">[SVN_TRUST_CERT</span> <span class="s">1</span> <span class="s">]</span>         <span class="c"># Trust the Subversion server site certificate</span>
  <span class="s">[GIT_REPOSITORY</span> <span class="s">url]</span>        <span class="c"># URL of git repo</span>
  <span class="s">[GIT_TAG</span> <span class="s">tag]</span>               <span class="c"># Git branch name, commit id or tag</span>
  <span class="s">[GIT_SUBMODULES</span> <span class="s">modules...]</span> <span class="c"># Git submodules that shall be updated, all if empty</span>
  <span class="s">[HG_REPOSITORY</span> <span class="s">url]</span>         <span class="c"># URL of mercurial repo</span>
  <span class="s">[HG_TAG</span> <span class="s">tag]</span>                <span class="c"># Mercurial branch name, commit id or tag</span>
  <span class="s">[URL</span> <span class="s">/.../src.tgz]</span>          <span class="c"># Full path or URL of source</span>
  <span class="s">[URL_HASH</span> <span class="s">ALGO=value]</span>       <span class="c"># Hash of file at URL</span>
  <span class="s">[URL_MD5</span> <span class="s">md5]</span>               <span class="c"># Equivalent to URL_HASH MD5=md5</span>
  <span class="s">[TLS_VERIFY</span> <span class="s">bool]</span>           <span class="c"># Should certificate for https be checked</span>
  <span class="s">[TLS_CAINFO</span> <span class="s">file]</span>           <span class="c"># Path to a certificate authority file</span>
  <span class="s">[TIMEOUT</span> <span class="s">seconds]</span>           <span class="c"># Time allowed for file download operations</span>
  <span class="s">[SOURCE_DIR_PERSISTENT</span> <span class="s">1]</span>   <span class="c"># FIXME docs</span>
 <span class="c">#--Update/Patch step----------</span>
  <span class="s">[UPDATE_COMMAND</span> <span class="s">cmd...]</span>     <span class="c"># Source work-tree update command</span>
  <span class="s">[SCM_DISCONNECTED</span> <span class="s">1]</span>        <span class="c"># Never update automatically from the remote repo</span>
  <span class="s">[PATCH_COMMAND</span> <span class="s">cmd...]</span>      <span class="c"># Command to patch downloaded source</span>
 <span class="c">#--Configure step-------------</span>
  <span class="s">[SOURCE_DIR</span> <span class="s">dir]</span>            <span class="c"># Source dir to be used for build</span>
  <span class="s">[CONFIGURE_SOURCE_DIR</span> <span class="s">dir]</span>  <span class="c"># Source dir to be used for configure</span>
  <span class="s">[CONFIGURE_COMMAND</span> <span class="s">cmd...]</span>  <span class="c"># Build tree configuration command</span>
  <span class="s">[CMAKE_COMMAND</span> <span class="s">/.../cmake]</span>  <span class="c"># Specify alternative cmake executable</span>
  <span class="s">[CMAKE_GENERATOR</span> <span class="s">gen]</span>       <span class="c"># Specify generator for native build</span>
  <span class="s">[CMAKE_GENERATOR_TOOLSET</span> <span class="s">t]</span> <span class="c"># Generator-specific toolset name</span>
  <span class="s">[CMAKE_ARGS</span> <span class="s">args...]</span>        <span class="c"># Arguments to CMake command line</span>
  <span class="s">[CMAKE_CACHE_ARGS</span> <span class="s">args...]</span>  <span class="c"># Initial cache arguments, of the form -Dvar:string=on</span>
 <span class="c">#--Build step-----------------</span>
  <span class="s">[BINARY_DIR</span> <span class="s">dir]</span>            <span class="c"># Specify build dir location</span>
  <span class="s">[BUILD_COMMAND</span> <span class="s">cmd...]</span>      <span class="c"># Command to drive the native build</span>
  <span class="s">[BUILD_IN_SOURCE</span> <span class="s">1]</span>         <span class="c"># Use source dir for build dir</span>
  <span class="s">[BUILD_ALWAYS</span> <span class="s">1]</span>            <span class="c"># No stamp file, build step always runs</span>
 <span class="c">#--Install step---------------</span>
  <span class="s">[INSTALL_DIR</span> <span class="s">dir]</span>           <span class="c"># Installation prefix</span>
  <span class="s">[INSTALL_COMMAND</span> <span class="s">cmd...]</span>    <span class="c"># Command to drive install after build</span>
 <span class="c">#--Test step------------------</span>
  <span class="s">[TEST_BEFORE_INSTALL</span> <span class="s">1]</span>     <span class="c"># Add test step executed before install step</span>
  <span class="s">[TEST_AFTER_INSTALL</span> <span class="s">1]</span>      <span class="c"># Add test step executed after install step</span>
  <span class="s">[TEST_EXCLUDE_FROM_MAIN</span> <span class="s">1]</span>  <span class="c"># Main target does not depend on the test step</span>
  <span class="s">[TEST_COMMAND</span> <span class="s">cmd...]</span>       <span class="c"># Command to drive test</span>
 <span class="c">#--Output logging-------------</span>
  <span class="s">[LOG_DOWNLOAD</span> <span class="s">1]</span>            <span class="c"># Wrap download in script to log output</span>
  <span class="s">[LOG_UPDATE</span> <span class="s">1]</span>              <span class="c"># Wrap update in script to log output</span>
  <span class="s">[LOG_CONFIGURE</span> <span class="s">1]</span>           <span class="c"># Wrap configure in script to log output</span>
  <span class="s">[LOG_BUILD</span> <span class="s">1]</span>               <span class="c"># Wrap build in script to log output</span>
  <span class="s">[LOG_TEST</span> <span class="s">1]</span>                <span class="c"># Wrap test in script to log output</span>
  <span class="s">[LOG_INSTALL</span> <span class="s">1]</span>             <span class="c"># Wrap install in script to log output</span>
 <span class="c">#--Custom targets-------------</span>
  <span class="s">[STEP_TARGETS</span> <span class="s">st1</span> <span class="s">st2</span> <span class="s">...]</span>  <span class="c"># Generate custom targets for these steps</span>
  <span class="s">[INDEPENDENT_STEP_TARGETS</span> <span class="s">st1</span> <span class="s">st2</span> <span class="s">...]</span> <span class="c"># Generate custom targets for these</span>
                              <span class="c"># steps that do not depend on other external</span>
                              <span class="c"># project even if a dependency is set</span>
  <span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">*_DIR</span></code> options specify directories for the project, with default
directories computed as follows.  If the <code class="docutils literal notranslate"><span class="pre">PREFIX</span></code> option is given to
<code class="docutils literal notranslate"><span class="pre">ExternalProject_Add()</span></code> or the <code class="docutils literal notranslate"><span class="pre">EP_PREFIX</span></code> directory property is set,
then an external project is built and installed under the specified prefix:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TMP_DIR</span>      <span class="o">=</span> <span class="o">&lt;</span><span class="n">prefix</span><span class="o">&gt;/</span><span class="n">tmp</span>
<span class="n">STAMP_DIR</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">prefix</span><span class="o">&gt;/</span><span class="n">src</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;-</span><span class="n">stamp</span>
<span class="n">DOWNLOAD_DIR</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">prefix</span><span class="o">&gt;/</span><span class="n">src</span>
<span class="n">SOURCE_DIR</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">prefix</span><span class="o">&gt;/</span><span class="n">src</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;</span>
<span class="n">BINARY_DIR</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">prefix</span><span class="o">&gt;/</span><span class="n">src</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;-</span><span class="n">build</span>
<span class="n">INSTALL_DIR</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">prefix</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Otherwise, if the <code class="docutils literal notranslate"><span class="pre">EP_BASE</span></code> directory property is set then components
of an external project are stored under the specified base:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TMP_DIR</span>      <span class="o">=</span> <span class="o">&lt;</span><span class="n">base</span><span class="o">&gt;/</span><span class="n">tmp</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;</span>
<span class="n">STAMP_DIR</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">base</span><span class="o">&gt;/</span><span class="n">Stamp</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;</span>
<span class="n">DOWNLOAD_DIR</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">base</span><span class="o">&gt;/</span><span class="n">Download</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;</span>
<span class="n">SOURCE_DIR</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">base</span><span class="o">&gt;/</span><span class="n">Source</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;</span>
<span class="n">BINARY_DIR</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">base</span><span class="o">&gt;/</span><span class="n">Build</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;</span>
<span class="n">INSTALL_DIR</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">base</span><span class="o">&gt;/</span><span class="n">Install</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">PREFIX</span></code>, <code class="docutils literal notranslate"><span class="pre">EP_PREFIX</span></code>, or <code class="docutils literal notranslate"><span class="pre">EP_BASE</span></code> is specified then the
default is to set <code class="docutils literal notranslate"><span class="pre">PREFIX</span></code> to <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;-prefix</span></code>.  Relative paths are
interpreted with respect to the build directory corresponding to the
source directory in which <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add</span></code> is invoked.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">SOURCE_DIR</span></code> is explicitly set to an existing directory the project
will be built from it.  Otherwise a download step must be specified
using one of the <code class="docutils literal notranslate"><span class="pre">DOWNLOAD_COMMAND</span></code>, <code class="docutils literal notranslate"><span class="pre">CVS_*</span></code>, <code class="docutils literal notranslate"><span class="pre">SVN_*</span></code>, or <code class="docutils literal notranslate"><span class="pre">URL</span></code>
options.  The <code class="docutils literal notranslate"><span class="pre">URL</span></code> option may refer locally to a directory or source
tarball, or refer to a remote tarball (e.g. <code class="docutils literal notranslate"><span class="pre">http://.../src.tgz</span></code>).</p>
<p>If <code class="docutils literal notranslate"><span class="pre">SCM_DISCONNECTED</span></code> is set, the update step is not executed
automatically when building the main target. The update step can still
be added as a step target and called manually. This is useful if you
want to allow one to build the project when you are disconnected from
the network (you might still need the network for the download step).
This is disabled by default.
The directory property <code class="docutils literal notranslate"><span class="pre">EP_SCM_DISCONNECTED</span></code> can be used to change
the default value for all the external projects in the current
directory and its subdirectories.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add_Step</span></code> function adds a custom step to an
external project:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ExternalProject_Add_Step</span><span class="p">(</span><span class="s">&lt;name&gt;</span> <span class="s">&lt;step&gt;</span> <span class="c"># Names of project and custom step</span>
  <span class="s">[COMMAND</span> <span class="s">cmd...]</span>        <span class="c"># Command line invoked by this step</span>
  <span class="s">[COMMENT</span> <span class="s2">&quot;text...&quot;</span><span class="s">]</span>     <span class="c"># Text printed when step executes</span>
  <span class="s">[DEPENDEES</span> <span class="s">steps...]</span>    <span class="c"># Steps on which this step depends</span>
  <span class="s">[DEPENDERS</span> <span class="s">steps...]</span>    <span class="c"># Steps that depend on this step</span>
  <span class="s">[DEPENDS</span> <span class="s">files...]</span>      <span class="c"># Files on which this step depends</span>
  <span class="s">[ALWAYS</span> <span class="s">1]</span>              <span class="c"># No stamp file, step always runs</span>
  <span class="s">[EXCLUDE_FROM_MAIN</span> <span class="s">1]</span>   <span class="c"># Main target does not depend on this step</span>
  <span class="s">[WORKING_DIRECTORY</span> <span class="s">dir]</span> <span class="c"># Working directory for command</span>
  <span class="s">[LOG</span> <span class="s">1]</span>                 <span class="c"># Wrap step in script to log output</span>
  <span class="p">)</span>
</pre></div>
</div>
<p>The command line, comment, and working directory of every standard and
custom step is processed to replace tokens <code class="docutils literal notranslate"><span class="pre">&lt;SOURCE_DIR&gt;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&lt;BINARY_DIR&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;INSTALL_DIR&gt;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;TMP_DIR&gt;</span></code> with
corresponding property values.</p>
<p>Any builtin step that specifies a <code class="docutils literal notranslate"><span class="pre">&lt;step&gt;_COMMAND</span> <span class="pre">cmd...</span></code> or custom
step that specifies a <code class="docutils literal notranslate"><span class="pre">COMMAND</span> <span class="pre">cmd...</span></code> may specify additional command
lines using the form <code class="docutils literal notranslate"><span class="pre">COMMAND</span> <span class="pre">cmd...</span></code>.  At build time the commands
will be executed in order and aborted if any one fails.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span> <span class="n">BUILD_COMMAND</span> <span class="n">make</span> <span class="n">COMMAND</span> <span class="n">echo</span> <span class="n">done</span> <span class="o">...</span>
</pre></div>
</div>
<p>specifies to run <code class="docutils literal notranslate"><span class="pre">make</span></code> and then <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">done</span></code> during the build step.
Whether the current working directory is preserved between commands is
not defined.  Behavior of shell operators like <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code> is not defined.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ExternalProject_Get_Property</span></code> function retrieves external project
target properties:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ExternalProject_Get_Property</span><span class="p">(</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">prop1</span> <span class="p">[</span><span class="n">prop2</span> <span class="p">[</span><span class="o">...</span><span class="p">]]])</span>
</pre></div>
</div>
<p>It stores property values in variables of the same name.  Property
names correspond to the keyword argument names of
<code class="docutils literal notranslate"><span class="pre">ExternalProject_Add</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add_StepTargets</span></code> function generates custom
targets for the steps listed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ExternalProject_Add_StepTargets</span><span class="p">(</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">NO_DEPENDS</span><span class="p">]</span> <span class="p">[</span><span class="n">step1</span> <span class="p">[</span><span class="n">step2</span> <span class="p">[</span><span class="o">...</span><span class="p">]]])</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">NO_DEPENDS</span></code> is set, the target will not depend on the
dependencies of the complete project. This is usually safe to use for
the download, update, and patch steps that do not require that all the
dependencies are updated and built.  Using <code class="docutils literal notranslate"><span class="pre">NO_DEPENDS</span></code> for other
of the default steps might break parallel builds, so you should avoid,
it.  For custom steps, you should consider whether or not the custom
commands requires that the dependencies are configured, built and
installed.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">STEP_TARGETS</span></code> or <code class="docutils literal notranslate"><span class="pre">INDEPENDENT_STEP_TARGETS</span></code> is set then
<code class="docutils literal notranslate"><span class="pre">ExternalProject_Add_StepTargets</span></code> is automatically called at the end
of matching calls to <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add_Step</span></code>.  Pass
<code class="docutils literal notranslate"><span class="pre">STEP_TARGETS</span></code> or <code class="docutils literal notranslate"><span class="pre">INDEPENDENT_STEP_TARGETS</span></code> explicitly to
individual <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add</span></code> calls, or implicitly to all
<code class="docutils literal notranslate"><span class="pre">ExternalProject_Add</span></code> calls by setting the directory properties
<code class="docutils literal notranslate"><span class="pre">EP_STEP_TARGETS</span></code> and <code class="docutils literal notranslate"><span class="pre">EP_INDEPENDENT_STEP_TARGETS</span></code>.  The
<code class="docutils literal notranslate"><span class="pre">INDEPENDENT</span></code> version of the argument and of the property will call
<code class="docutils literal notranslate"><span class="pre">ExternalProject_Add_StepTargets</span></code> with the <code class="docutils literal notranslate"><span class="pre">NO_DEPENDS</span></code> argument.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">STEP_TARGETS</span></code> and <code class="docutils literal notranslate"><span class="pre">INDEPENDENT_STEP_TARGETS</span></code> are not set,
clients may still manually call <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add_StepTargets</span></code>
after calling <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add</span></code> or <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add_Step</span></code>.</p>
<p>This functionality is provided to make it easy to drive the steps
independently of each other by specifying targets on build command
lines.  For example, you may be submitting to a sub-project based
dashboard, where you want to drive the configure portion of the build,
then submit to the dashboard, followed by the build portion, followed
by tests.  If you invoke a custom target that depends on a step
halfway through the step dependency chain, then all the previous steps
will also run to ensure everything is up to date.</p>
<p>For example, to drive configure, build and test steps independently
for each <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add</span></code> call in your project, write the following
line prior to any <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add</span></code> calls in your <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>
file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">set_property</span><span class="p">(</span><span class="n">DIRECTORY</span> <span class="n">PROPERTY</span> <span class="n">EP_STEP_TARGETS</span> <span class="n">configure</span> <span class="n">build</span> <span class="n">test</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ExternalProject_Add_StepDependencies</span></code> function add some
dependencies for some external project step:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ExternalProject_Add_StepDependencies</span><span class="p">(</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">step</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">target1</span> <span class="p">[</span><span class="n">target2</span> <span class="p">[</span><span class="o">...</span><span class="p">]]])</span>
</pre></div>
</div>
<p>This function takes care to set both target and file level dependencies,
and will ensure that parallel builds will not break.
It should be used instead of <span class="target" id="index-0-command:add_dependencies"></span><a class="reference external" href="http://cmake.org/cmake/help/git-master/command/add_dependencies.html#add_dependencies" title="(in CMake v3.0.0)"><code class="xref cmake cmake-command docutils literal notranslate"><span class="pre">add_dependencies()</span></code></a> when adding
a dependency for some of the step targets generated by
<code class="docutils literal notranslate"><span class="pre">ExternalProject</span></code>.</p>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="BuildYARP.html"
                        title="previous chapter">BuildYARP</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="CMakeParseArguments.html"
                        title="next chapter">CMakeParseArguments</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../sources/module/ExternalProject.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="CMakeParseArguments.html" title="CMakeParseArguments"
             >next</a> |</li>
        <li class="right" >
          <a href="BuildYARP.html" title="BuildYARP"
             >previous</a> |</li>
  <li>
    <img src="../static/ycm-logo-16.png" alt=""
         style="vertical-align: middle; margin-top: -2px" />
  </li>
  <li>
    <a href="https://github.com/robotology/ycm/">YCM</a> &#187;
  </li>
  <li>
    <span class="version_switch">0.9.1</span>
    <a href="../index.html">Documentation</a> &#187;
  </li>

          <li class="nav-item nav-item-1"><a href="../manual/ycm-modules.7.html" >ycm-modules(7)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ExternalProject</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright 2013-2018 Istituto Italiano di Tecnologia (IIT).
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.4.
    </div>
  </body>
</html>